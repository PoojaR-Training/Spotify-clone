{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport { canUseDOM as canUseDOMBool } from 'exenv';\nexport var canUseDOM = function () {\n  return canUseDOMBool;\n};\nexport var STATUS = {\n  ERROR: 'ERROR',\n  IDLE: 'IDLE',\n  INITIALIZING: 'INITIALIZING',\n  READY: 'READY',\n  RUNNING: 'RUNNING',\n  UNSUPPORTED: 'UNSUPPORTED'\n};\nexport var TYPE = {\n  DEVICE: 'device_update',\n  FAVORITE: 'favorite_update',\n  PLAYER: 'player_update',\n  PROGRESS: 'progress_update',\n  STATUS: 'status_update',\n  TRACK: 'track_update'\n};\nexport function getSpotifyURIType(uri) {\n  var _a = __read(uri.split(':'), 2),\n    _b = _a[1],\n    type = _b === void 0 ? '' : _b;\n  return type;\n}\nexport function isEqualArray(A, B) {\n  if (!Array.isArray(A) || !Array.isArray(B) || A.length !== B.length) {\n    return false;\n  }\n  var result = true;\n  A.forEach(function (a) {\n    return B.forEach(function (b) {\n      result = a === b;\n    });\n  });\n  return result;\n}\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\nexport function loadSpotifyPlayer() {\n  return new Promise(function (resolve, reject) {\n    var scriptTag = document.getElementById('spotify-player');\n    if (!scriptTag) {\n      var script = document.createElement('script');\n      script.id = 'spotify-player';\n      script.type = 'text/javascript';\n      script.async = false;\n      script.defer = true;\n      script.src = 'https://sdk.scdn.co/spotify-player.js';\n      script.onload = function () {\n        return resolve();\n      };\n      script.onerror = function (error) {\n        return reject(new Error(\"loadScript: \" + error.message));\n      };\n      document.head.appendChild(script);\n    } else {\n      resolve();\n    }\n  });\n}\nexport function parseVolume(value) {\n  if (!isNumber(value)) {\n    return 1;\n  }\n  if (value > 1) {\n    return value / 100;\n  }\n  return value;\n}\n/**\n * Round decimal numbers\n */\nexport function round(number, digits) {\n  if (digits === void 0) {\n    digits = 2;\n  }\n  var factor = Math.pow(10, digits);\n  return Math.round(number * factor) / factor;\n}\nexport function validateURI(input) {\n  var validTypes = ['album', 'artist', 'playlist', 'show', 'track'];\n  /* istanbul ignore else */\n  if (input && input.indexOf(':') > -1) {\n    var _a = __read(input.split(':'), 3),\n      key = _a[0],\n      type = _a[1],\n      id = _a[2];\n    /* istanbul ignore else */\n    if (key === 'spotify' && validTypes.indexOf(type) >= 0 && id.length === 22) {\n      return true;\n    }\n  }\n  return false;\n}","map":{"version":3,"sources":["../src/utils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { canUseDOM as canUseDOMBool } from 'exenv';\nexport var canUseDOM = function () { return canUseDOMBool; };\nexport var STATUS = {\n    ERROR: 'ERROR',\n    IDLE: 'IDLE',\n    INITIALIZING: 'INITIALIZING',\n    READY: 'READY',\n    RUNNING: 'RUNNING',\n    UNSUPPORTED: 'UNSUPPORTED',\n};\nexport var TYPE = {\n    DEVICE: 'device_update',\n    FAVORITE: 'favorite_update',\n    PLAYER: 'player_update',\n    PROGRESS: 'progress_update',\n    STATUS: 'status_update',\n    TRACK: 'track_update',\n};\nexport function getSpotifyURIType(uri) {\n    var _a = __read(uri.split(':'), 2), _b = _a[1], type = _b === void 0 ? '' : _b;\n    return type;\n}\nexport function isEqualArray(A, B) {\n    if (!Array.isArray(A) || !Array.isArray(B) || A.length !== B.length) {\n        return false;\n    }\n    var result = true;\n    A.forEach(function (a) {\n        return B.forEach(function (b) {\n            result = a === b;\n        });\n    });\n    return result;\n}\nexport function isNumber(value) {\n    return typeof value === 'number';\n}\nexport function loadSpotifyPlayer() {\n    return new Promise(function (resolve, reject) {\n        var scriptTag = document.getElementById('spotify-player');\n        if (!scriptTag) {\n            var script = document.createElement('script');\n            script.id = 'spotify-player';\n            script.type = 'text/javascript';\n            script.async = false;\n            script.defer = true;\n            script.src = 'https://sdk.scdn.co/spotify-player.js';\n            script.onload = function () { return resolve(); };\n            script.onerror = function (error) { return reject(new Error(\"loadScript: \" + error.message)); };\n            document.head.appendChild(script);\n        }\n        else {\n            resolve();\n        }\n    });\n}\nexport function parseVolume(value) {\n    if (!isNumber(value)) {\n        return 1;\n    }\n    if (value > 1) {\n        return value / 100;\n    }\n    return value;\n}\n/**\n * Round decimal numbers\n */\nexport function round(number, digits) {\n    if (digits === void 0) { digits = 2; }\n    var factor = Math.pow(10, digits);\n    return Math.round(number * factor) / factor;\n}\nexport function validateURI(input) {\n    var validTypes = ['album', 'artist', 'playlist', 'show', 'track'];\n    /* istanbul ignore else */\n    if (input && input.indexOf(':') > -1) {\n        var _a = __read(input.split(':'), 3), key = _a[0], type = _a[1], id = _a[2];\n        /* istanbul ignore else */\n        if (key === 'spotify' && validTypes.indexOf(type) >= 0 && id.length === 22) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"module"}