{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport getStyles from './styles';\nimport { getBaseProps, getCoordinates, getNormalizedValue, getPosition, isUndefined, removeProperties } from './utils';\nvar RangeSlider = /** @class */function (_super) {\n  __extends(RangeSlider, _super);\n  function RangeSlider(props) {\n    var _this = _super.call(this, props) || this;\n    _this.lastCoordinates = {\n      x: 0,\n      y: 0\n    };\n    _this.mounted = false;\n    _this.offset = {\n      x: 0,\n      y: 0\n    };\n    _this.start = {\n      x: 0,\n      y: 0\n    };\n    _this.getDragPosition = function (_a) {\n      var x = _a.x,\n        y = _a.y;\n      return {\n        x: x + _this.start.x - _this.offset.x,\n        y: _this.offset.y + _this.start.y - y\n      };\n    };\n    _this.updateOptions = function (_a) {\n      var _b, _c, _d, _e, _f, _g, _h, _j;\n      var x = _a.x,\n        y = _a.y;\n      var _k = _this,\n        rail = _k.rail,\n        track = _k.track;\n      _this.start = {\n        x: (_c = (_b = rail.current) === null || _b === void 0 ? void 0 : _b.offsetLeft) !== null && _c !== void 0 ? _c : 0,\n        y: ((_e = (_d = track.current) === null || _d === void 0 ? void 0 : _d.offsetHeight) !== null && _e !== void 0 ? _e : 0) - ((_g = (_f = rail.current) === null || _f === void 0 ? void 0 : _f.offsetTop) !== null && _g !== void 0 ? _g : 0) - ((_j = (_h = rail.current) === null || _h === void 0 ? void 0 : _h.offsetHeight) !== null && _j !== void 0 ? _j : 0)\n      };\n      _this.lastCoordinates = {\n        x: x,\n        y: y\n      };\n      _this.offset = {\n        x: x,\n        y: y\n      };\n    };\n    _this.updatePosition = function (position) {\n      _this.setState(getPosition(position, _this.props, _this.slider.current));\n    };\n    _this.handleBlur = function () {\n      document.removeEventListener('keydown', _this.handleKeydown);\n    };\n    _this.handleClickTrack = function (e) {\n      var onAfterEnd = _this.props.onAfterEnd;\n      var isDragging = _this.state.isDragging;\n      if (!isDragging) {\n        var element = e.currentTarget;\n        var _a = getCoordinates(e, _this.lastCoordinates),\n          x = _a.x,\n          y = _a.y;\n        var _b = element.getBoundingClientRect(),\n          left = _b.left,\n          bottom = _b.bottom;\n        var nextPosition = {\n          x: x - left,\n          y: bottom - y\n        };\n        _this.lastCoordinates = {\n          x: x,\n          y: y\n        };\n        _this.updatePosition(nextPosition);\n        if (onAfterEnd) {\n          onAfterEnd(getPosition(nextPosition, _this.props, _this.slider.current), _this.props);\n        }\n      } else if (_this.mounted) {\n        _this.setState({\n          isDragging: false\n        });\n      }\n    };\n    _this.handleDrag = function (e) {\n      e.preventDefault();\n      var coordinates = getCoordinates(e, _this.lastCoordinates);\n      _this.updatePosition(_this.getDragPosition(coordinates));\n      _this.lastCoordinates = coordinates;\n    };\n    _this.handleDragEnd = function (e) {\n      e.preventDefault();\n      var _a = _this.props,\n        onAfterEnd = _a.onAfterEnd,\n        onDragEnd = _a.onDragEnd;\n      var position = getPosition(_this.getDragPosition(getCoordinates(e, _this.lastCoordinates)), _this.props, _this.slider.current);\n      document.removeEventListener('mousemove', _this.handleDrag);\n      document.removeEventListener('mouseup', _this.handleDragEnd);\n      document.removeEventListener('touchmove', _this.handleDrag);\n      document.removeEventListener('touchend', _this.handleDragEnd);\n      document.removeEventListener('touchcancel', _this.handleDragEnd);\n      /* istanbul ignore else */\n      if (onDragEnd) {\n        onDragEnd(position, _this.props);\n      }\n      /* istanbul ignore else */\n      if (onAfterEnd) {\n        onAfterEnd(position, _this.props);\n      }\n    };\n    _this.handleFocus = function () {\n      document.addEventListener('keydown', _this.handleKeydown, {\n        passive: false\n      });\n    };\n    _this.handleKeydown = function (e) {\n      var _a = _this.state,\n        innerX = _a.x,\n        innerY = _a.y;\n      var _b = _this.props,\n        x = _b.x,\n        y = _b.y;\n      var _c = getBaseProps(_this.props),\n        axis = _c.axis,\n        xMax = _c.xMax,\n        xMin = _c.xMin,\n        xStep = _c.xStep,\n        yMax = _c.yMax,\n        yMin = _c.yMin,\n        yStep = _c.yStep;\n      var codes = {\n        down: 'ArrowDown',\n        left: 'ArrowLeft',\n        up: 'ArrowUp',\n        right: 'ArrowRight'\n      };\n      /* istanbul ignore else */\n      if (Object.values(codes).indexOf(e.code) > -1) {\n        e.preventDefault();\n        var position = {\n          x: isUndefined(x) ? innerX : getNormalizedValue('x', _this.props),\n          y: isUndefined(y) ? innerY : getNormalizedValue('y', _this.props)\n        };\n        var xMinus = position.x - xStep <= xMin ? xMin : position.x - xStep;\n        var xPlus = position.x + xStep >= xMax ? xMax : position.x + xStep;\n        var yMinus = position.y - yStep <= yMin ? yMin : position.y - yStep;\n        var yPlus = position.y + yStep >= yMax ? yMax : position.y + yStep;\n        switch (e.code) {\n          case codes.up:\n            {\n              if (axis === 'x') {\n                position.x = xPlus;\n              } else {\n                position.y = yPlus;\n              }\n              break;\n            }\n          case codes.down:\n            {\n              if (axis === 'x') {\n                position.x = xMinus;\n              } else {\n                position.y = yMinus;\n              }\n              break;\n            }\n          case codes.left:\n            {\n              if (axis === 'y') {\n                position.y = yMinus;\n              } else {\n                position.x = xMinus;\n              }\n              break;\n            }\n          case codes.right:\n          default:\n            {\n              if (axis === 'y') {\n                position.y = yPlus;\n              } else {\n                position.x = xPlus;\n              }\n              break;\n            }\n        }\n        _this.setState(position);\n      }\n    };\n    _this.handleMouseDown = function (e) {\n      e.preventDefault();\n      _this.updateOptions(getCoordinates(e, _this.lastCoordinates));\n      _this.setState({\n        isDragging: true\n      });\n      document.addEventListener('mousemove', _this.handleDrag);\n      document.addEventListener('mouseup', _this.handleDragEnd);\n    };\n    _this.handleTouchStart = function (e) {\n      e.preventDefault();\n      _this.updateOptions(getCoordinates(e, _this.lastCoordinates));\n      document.addEventListener('touchmove', _this.handleDrag, {\n        passive: false\n      });\n      document.addEventListener('touchend', _this.handleDragEnd, {\n        passive: false\n      });\n      document.addEventListener('touchcancel', _this.handleDragEnd, {\n        passive: false\n      });\n    };\n    _this.slider = React.createRef();\n    _this.rail = React.createRef();\n    _this.track = React.createRef();\n    _this.state = {\n      isDragging: false,\n      x: getNormalizedValue('x', props),\n      y: getNormalizedValue('y', props)\n    };\n    return _this;\n  }\n  RangeSlider.prototype.componentDidMount = function () {\n    this.mounted = true;\n  };\n  RangeSlider.prototype.componentDidUpdate = function (_, prevState) {\n    var _a = this.state,\n      x = _a.x,\n      y = _a.y;\n    var onChange = this.props.onChange;\n    var prevX = prevState.x,\n      prevY = prevState.y;\n    /* istanbul ignore else */\n    if (onChange && (x !== prevX || y !== prevY)) {\n      onChange({\n        x: x,\n        y: y\n      }, this.props);\n    }\n  };\n  RangeSlider.prototype.componentWillUnmount = function () {\n    this.mounted = false;\n  };\n  Object.defineProperty(RangeSlider.prototype, \"position\", {\n    get: function () {\n      var _a = getBaseProps(this.props),\n        axis = _a.axis,\n        xMax = _a.xMax,\n        xMin = _a.xMin,\n        yMax = _a.yMax,\n        yMin = _a.yMin;\n      var bottom = (this.y - yMin) / (yMax - yMin) * 100;\n      var left = (this.x - xMin) / (xMax - xMin) * 100;\n      if (bottom > 100) {\n        bottom = 100;\n      }\n      if (bottom < 0) {\n        bottom = 0;\n      }\n      // bottom shouldn't be set with X axis\n      /* istanbul ignore else */\n      if (axis === 'x') {\n        bottom = 0;\n      }\n      if (left > 100) {\n        left = 100;\n      }\n      if (left < 0) {\n        left = 0;\n      }\n      // left shouldn't be set with Y axis\n      /* istanbul ignore else */\n      if (axis === 'y') {\n        left = 0;\n      }\n      return {\n        x: left,\n        y: bottom\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RangeSlider.prototype, \"styles\", {\n    get: function () {\n      var styles = this.props.styles;\n      return getStyles(styles);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RangeSlider.prototype, \"x\", {\n    get: function () {\n      var innerX = this.state.x;\n      var x = this.props.x;\n      return isUndefined(x) ? innerX : x;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RangeSlider.prototype, \"y\", {\n    get: function () {\n      var innerY = this.state.y;\n      var y = this.props.y;\n      return isUndefined(y) ? innerY : y;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RangeSlider.prototype.render = function () {\n    var _a = this.props,\n      axis = _a.axis,\n      className = _a.className,\n      xMin = _a.xMin,\n      xMax = _a.xMax,\n      yMin = _a.yMin,\n      yMax = _a.yMax;\n    var rest = removeProperties(this.props, 'axis', 'className', 'onAfterEnd', 'onChange', 'onDragEnd', 'styles', 'x', 'xMin', 'xMax', 'xStep', 'y', 'yMin', 'yMax', 'yStep');\n    var _b = this.position,\n      xPos = _b.x,\n      yPos = _b.y;\n    var position = {\n      left: xPos + \"%\",\n      bottom: yPos + \"%\"\n    };\n    var size = {};\n    var orientation;\n    var range;\n    var slider;\n    var thumb;\n    var track;\n    var valuemax = xMax;\n    var valuemin = xMin;\n    var valuenow = this.x;\n    /* istanbul ignore else */\n    if (axis === 'x') {\n      size.width = xPos + \"%\";\n      slider = this.styles.sliderX;\n      orientation = 'horizontal';\n      range = this.styles.rangeX;\n      track = this.styles.trackX;\n      thumb = this.styles.thumbX;\n    }\n    /* istanbul ignore else */\n    if (axis === 'y') {\n      size.height = yPos + \"%\";\n      slider = this.styles.sliderY;\n      range = this.styles.rangeY;\n      track = this.styles.trackY;\n      thumb = this.styles.thumbY;\n      orientation = 'vertical';\n      valuemax = yMax;\n      valuemin = yMin;\n      valuenow = this.y;\n    }\n    /* istanbul ignore else */\n    if (axis === 'xy') {\n      size.height = yPos + \"%\";\n      size.width = xPos + \"%\";\n      slider = this.styles.sliderXY;\n      range = this.styles.rangeXY;\n      track = this.styles.trackXY;\n      thumb = this.styles.thumbXY;\n    }\n    return React.createElement(\"div\", __assign({\n      ref: this.slider,\n      className: className,\n      style: slider\n    }, rest), React.createElement(\"div\", {\n      className: className && className + \"__track\",\n      ref: this.track,\n      style: track,\n      role: \"presentation\",\n      // @ts-ignore We can't use React's events because the listeners\n      onClick: this.handleClickTrack\n    }, React.createElement(\"div\", {\n      className: className && className + \"__range\",\n      style: __assign(__assign({}, size), range)\n    }), React.createElement(\"div\", {\n      ref: this.rail,\n      style: __assign(__assign({}, this.styles.rail), position),\n      role: \"presentation\",\n      // @ts-ignore We can't use React's events because the listeners\n      onTouchStart: this.handleTouchStart,\n      // @ts-ignore We can't use React's events because the listeners\n      onMouseDown: this.handleMouseDown\n    }, React.createElement(\"span\", {\n      className: className && className + \"__thumb\",\n      onBlur: this.handleBlur,\n      onFocus: this.handleFocus,\n      style: thumb,\n      tabIndex: 0,\n      role: \"slider\",\n      \"aria-label\": \"slider handle\",\n      \"aria-orientation\": orientation,\n      \"aria-valuemin\": valuemin,\n      \"aria-valuenow\": valuenow,\n      \"aria-valuemax\": valuemax\n    }))));\n  };\n  RangeSlider.defaultProps = getBaseProps();\n  return RangeSlider;\n}(React.Component);\nexport * from './types';\nexport default RangeSlider;","map":{"version":3,"sources":["../src/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport getStyles from './styles';\nimport { getBaseProps, getCoordinates, getNormalizedValue, getPosition, isUndefined, removeProperties, } from './utils';\nvar RangeSlider = /** @class */ (function (_super) {\n    __extends(RangeSlider, _super);\n    function RangeSlider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.lastCoordinates = { x: 0, y: 0 };\n        _this.mounted = false;\n        _this.offset = { x: 0, y: 0 };\n        _this.start = { x: 0, y: 0 };\n        _this.getDragPosition = function (_a) {\n            var x = _a.x, y = _a.y;\n            return {\n                x: x + _this.start.x - _this.offset.x,\n                y: _this.offset.y + _this.start.y - y,\n            };\n        };\n        _this.updateOptions = function (_a) {\n            var _b, _c, _d, _e, _f, _g, _h, _j;\n            var x = _a.x, y = _a.y;\n            var _k = _this, rail = _k.rail, track = _k.track;\n            _this.start = {\n                x: (_c = (_b = rail.current) === null || _b === void 0 ? void 0 : _b.offsetLeft) !== null && _c !== void 0 ? _c : 0,\n                y: ((_e = (_d = track.current) === null || _d === void 0 ? void 0 : _d.offsetHeight) !== null && _e !== void 0 ? _e : 0) -\n                    ((_g = (_f = rail.current) === null || _f === void 0 ? void 0 : _f.offsetTop) !== null && _g !== void 0 ? _g : 0) -\n                    ((_j = (_h = rail.current) === null || _h === void 0 ? void 0 : _h.offsetHeight) !== null && _j !== void 0 ? _j : 0),\n            };\n            _this.lastCoordinates = { x: x, y: y };\n            _this.offset = { x: x, y: y };\n        };\n        _this.updatePosition = function (position) {\n            _this.setState(getPosition(position, _this.props, _this.slider.current));\n        };\n        _this.handleBlur = function () {\n            document.removeEventListener('keydown', _this.handleKeydown);\n        };\n        _this.handleClickTrack = function (e) {\n            var onAfterEnd = _this.props.onAfterEnd;\n            var isDragging = _this.state.isDragging;\n            if (!isDragging) {\n                var element = e.currentTarget;\n                var _a = getCoordinates(e, _this.lastCoordinates), x = _a.x, y = _a.y;\n                var _b = element.getBoundingClientRect(), left = _b.left, bottom = _b.bottom;\n                var nextPosition = {\n                    x: x - left,\n                    y: bottom - y,\n                };\n                _this.lastCoordinates = { x: x, y: y };\n                _this.updatePosition(nextPosition);\n                if (onAfterEnd) {\n                    onAfterEnd(getPosition(nextPosition, _this.props, _this.slider.current), _this.props);\n                }\n            }\n            else if (_this.mounted) {\n                _this.setState({ isDragging: false });\n            }\n        };\n        _this.handleDrag = function (e) {\n            e.preventDefault();\n            var coordinates = getCoordinates(e, _this.lastCoordinates);\n            _this.updatePosition(_this.getDragPosition(coordinates));\n            _this.lastCoordinates = coordinates;\n        };\n        _this.handleDragEnd = function (e) {\n            e.preventDefault();\n            var _a = _this.props, onAfterEnd = _a.onAfterEnd, onDragEnd = _a.onDragEnd;\n            var position = getPosition(_this.getDragPosition(getCoordinates(e, _this.lastCoordinates)), _this.props, _this.slider.current);\n            document.removeEventListener('mousemove', _this.handleDrag);\n            document.removeEventListener('mouseup', _this.handleDragEnd);\n            document.removeEventListener('touchmove', _this.handleDrag);\n            document.removeEventListener('touchend', _this.handleDragEnd);\n            document.removeEventListener('touchcancel', _this.handleDragEnd);\n            /* istanbul ignore else */\n            if (onDragEnd) {\n                onDragEnd(position, _this.props);\n            }\n            /* istanbul ignore else */\n            if (onAfterEnd) {\n                onAfterEnd(position, _this.props);\n            }\n        };\n        _this.handleFocus = function () {\n            document.addEventListener('keydown', _this.handleKeydown, { passive: false });\n        };\n        _this.handleKeydown = function (e) {\n            var _a = _this.state, innerX = _a.x, innerY = _a.y;\n            var _b = _this.props, x = _b.x, y = _b.y;\n            var _c = getBaseProps(_this.props), axis = _c.axis, xMax = _c.xMax, xMin = _c.xMin, xStep = _c.xStep, yMax = _c.yMax, yMin = _c.yMin, yStep = _c.yStep;\n            var codes = { down: 'ArrowDown', left: 'ArrowLeft', up: 'ArrowUp', right: 'ArrowRight' };\n            /* istanbul ignore else */\n            if (Object.values(codes).indexOf(e.code) > -1) {\n                e.preventDefault();\n                var position = {\n                    x: isUndefined(x) ? innerX : getNormalizedValue('x', _this.props),\n                    y: isUndefined(y) ? innerY : getNormalizedValue('y', _this.props),\n                };\n                var xMinus = position.x - xStep <= xMin ? xMin : position.x - xStep;\n                var xPlus = position.x + xStep >= xMax ? xMax : position.x + xStep;\n                var yMinus = position.y - yStep <= yMin ? yMin : position.y - yStep;\n                var yPlus = position.y + yStep >= yMax ? yMax : position.y + yStep;\n                switch (e.code) {\n                    case codes.up: {\n                        if (axis === 'x') {\n                            position.x = xPlus;\n                        }\n                        else {\n                            position.y = yPlus;\n                        }\n                        break;\n                    }\n                    case codes.down: {\n                        if (axis === 'x') {\n                            position.x = xMinus;\n                        }\n                        else {\n                            position.y = yMinus;\n                        }\n                        break;\n                    }\n                    case codes.left: {\n                        if (axis === 'y') {\n                            position.y = yMinus;\n                        }\n                        else {\n                            position.x = xMinus;\n                        }\n                        break;\n                    }\n                    case codes.right:\n                    default: {\n                        if (axis === 'y') {\n                            position.y = yPlus;\n                        }\n                        else {\n                            position.x = xPlus;\n                        }\n                        break;\n                    }\n                }\n                _this.setState(position);\n            }\n        };\n        _this.handleMouseDown = function (e) {\n            e.preventDefault();\n            _this.updateOptions(getCoordinates(e, _this.lastCoordinates));\n            _this.setState({ isDragging: true });\n            document.addEventListener('mousemove', _this.handleDrag);\n            document.addEventListener('mouseup', _this.handleDragEnd);\n        };\n        _this.handleTouchStart = function (e) {\n            e.preventDefault();\n            _this.updateOptions(getCoordinates(e, _this.lastCoordinates));\n            document.addEventListener('touchmove', _this.handleDrag, { passive: false });\n            document.addEventListener('touchend', _this.handleDragEnd, { passive: false });\n            document.addEventListener('touchcancel', _this.handleDragEnd, { passive: false });\n        };\n        _this.slider = React.createRef();\n        _this.rail = React.createRef();\n        _this.track = React.createRef();\n        _this.state = {\n            isDragging: false,\n            x: getNormalizedValue('x', props),\n            y: getNormalizedValue('y', props),\n        };\n        return _this;\n    }\n    RangeSlider.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    RangeSlider.prototype.componentDidUpdate = function (_, prevState) {\n        var _a = this.state, x = _a.x, y = _a.y;\n        var onChange = this.props.onChange;\n        var prevX = prevState.x, prevY = prevState.y;\n        /* istanbul ignore else */\n        if (onChange && (x !== prevX || y !== prevY)) {\n            onChange({ x: x, y: y }, this.props);\n        }\n    };\n    RangeSlider.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Object.defineProperty(RangeSlider.prototype, \"position\", {\n        get: function () {\n            var _a = getBaseProps(this.props), axis = _a.axis, xMax = _a.xMax, xMin = _a.xMin, yMax = _a.yMax, yMin = _a.yMin;\n            var bottom = ((this.y - yMin) / (yMax - yMin)) * 100;\n            var left = ((this.x - xMin) / (xMax - xMin)) * 100;\n            if (bottom > 100) {\n                bottom = 100;\n            }\n            if (bottom < 0) {\n                bottom = 0;\n            }\n            // bottom shouldn't be set with X axis\n            /* istanbul ignore else */\n            if (axis === 'x') {\n                bottom = 0;\n            }\n            if (left > 100) {\n                left = 100;\n            }\n            if (left < 0) {\n                left = 0;\n            }\n            // left shouldn't be set with Y axis\n            /* istanbul ignore else */\n            if (axis === 'y') {\n                left = 0;\n            }\n            return { x: left, y: bottom };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeSlider.prototype, \"styles\", {\n        get: function () {\n            var styles = this.props.styles;\n            return getStyles(styles);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeSlider.prototype, \"x\", {\n        get: function () {\n            var innerX = this.state.x;\n            var x = this.props.x;\n            return isUndefined(x) ? innerX : x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeSlider.prototype, \"y\", {\n        get: function () {\n            var innerY = this.state.y;\n            var y = this.props.y;\n            return isUndefined(y) ? innerY : y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RangeSlider.prototype.render = function () {\n        var _a = this.props, axis = _a.axis, className = _a.className, xMin = _a.xMin, xMax = _a.xMax, yMin = _a.yMin, yMax = _a.yMax;\n        var rest = removeProperties(this.props, 'axis', 'className', 'onAfterEnd', 'onChange', 'onDragEnd', 'styles', 'x', 'xMin', 'xMax', 'xStep', 'y', 'yMin', 'yMax', 'yStep');\n        var _b = this.position, xPos = _b.x, yPos = _b.y;\n        var position = { left: xPos + \"%\", bottom: yPos + \"%\" };\n        var size = {};\n        var orientation;\n        var range;\n        var slider;\n        var thumb;\n        var track;\n        var valuemax = xMax;\n        var valuemin = xMin;\n        var valuenow = this.x;\n        /* istanbul ignore else */\n        if (axis === 'x') {\n            size.width = xPos + \"%\";\n            slider = this.styles.sliderX;\n            orientation = 'horizontal';\n            range = this.styles.rangeX;\n            track = this.styles.trackX;\n            thumb = this.styles.thumbX;\n        }\n        /* istanbul ignore else */\n        if (axis === 'y') {\n            size.height = yPos + \"%\";\n            slider = this.styles.sliderY;\n            range = this.styles.rangeY;\n            track = this.styles.trackY;\n            thumb = this.styles.thumbY;\n            orientation = 'vertical';\n            valuemax = yMax;\n            valuemin = yMin;\n            valuenow = this.y;\n        }\n        /* istanbul ignore else */\n        if (axis === 'xy') {\n            size.height = yPos + \"%\";\n            size.width = xPos + \"%\";\n            slider = this.styles.sliderXY;\n            range = this.styles.rangeXY;\n            track = this.styles.trackXY;\n            thumb = this.styles.thumbXY;\n        }\n        return (React.createElement(\"div\", __assign({ ref: this.slider, className: className, style: slider }, rest),\n            React.createElement(\"div\", { className: className && className + \"__track\", ref: this.track, style: track, role: \"presentation\", \n                // @ts-ignore We can't use React's events because the listeners\n                onClick: this.handleClickTrack },\n                React.createElement(\"div\", { className: className && className + \"__range\", style: __assign(__assign({}, size), range) }),\n                React.createElement(\"div\", { ref: this.rail, style: __assign(__assign({}, this.styles.rail), position), role: \"presentation\", \n                    // @ts-ignore We can't use React's events because the listeners\n                    onTouchStart: this.handleTouchStart, \n                    // @ts-ignore We can't use React's events because the listeners\n                    onMouseDown: this.handleMouseDown },\n                    React.createElement(\"span\", { className: className && className + \"__thumb\", onBlur: this.handleBlur, onFocus: this.handleFocus, style: thumb, tabIndex: 0, role: \"slider\", \"aria-label\": \"slider handle\", \"aria-orientation\": orientation, \"aria-valuemin\": valuemin, \"aria-valuenow\": valuenow, \"aria-valuemax\": valuemax })))));\n    };\n    RangeSlider.defaultProps = getBaseProps();\n    return RangeSlider;\n}(React.Component));\nexport * from './types';\nexport default RangeSlider;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}